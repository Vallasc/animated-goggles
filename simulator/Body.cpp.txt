#include <iostream>
#include <math.h>
#include "Body.h"

//public members
//parametric costructor
Body::Body(double* position_, double* velocity_, double radius_, double mass_):mass(mass_)
    {acceleration[0]=0; acceleration[1]=0;
    velocity[0]=velocity_[0]; velocity[1]=velocity_[1];
    position[0]=position_[0]; position[1]=position_[1];
    radius=radius_;}

//funzioni
void Body::merge(Body& a){
        this->mass += a.mass;

        this->position[0]=(a.mass*a.position[0] + this->mass*this->position[0])/(this->mass);
        this->position[1]=(a.mass*a.position[1] + this->mass*this->position[1])/(this->mass);

        this->velocity[0]=(a.mass*a.velocity[0] + this->mass*this->velocity[0])/(this->mass);
        this->velocity[1]=(a.mass*a.velocity[1] + this->mass*this->velocity[1])/(this->mass);

        this->acceleration[0]=(a.mass*a.acceleration[0] + this->mass*this->acceleration[0])/(this->mass);
        this->acceleration[1]=(a.mass*a.acceleration[1] + this->mass*this->acceleration[1])/(this->mass);

        this->radius = pow((pow(this->radius,3) + pow(a.radius,3)), 1/3);
    }